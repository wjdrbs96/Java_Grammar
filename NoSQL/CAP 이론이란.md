## `CAP 이론이란?`

![image](https://github.com/wjdrbs96/Today-I-Learn/assets/45676906/58ac2c32-09cd-4c4b-ad69-cba5b0b966d7)

CAP 정리는 데이터 `일관성(Consistency)`, `가용성(Availability)`, `파티션 감내(Partition Tolerance)` 라는 세 가지 요구사항을 동시에 만족하는 분산 시스템을 설계하는 것은 불가능하다는 정리이다.

- `데이터 일관성`: 분산 시스템에 접속하는 모든 클라이언트는 어떤 노드에 접속했느냐에 관계없이 언제나 같은 데이터를 보게 되어야 한다.
- `가용성`: 분산 시스팀에 접속하는 클라이언트는 일부 노드에 장애가 발생하더라도 항상 응답을 받을 수 있어야 한다.
- `파티션 감내`: 파티션은 두 노드 사이에 통신 장애가 발생하였음을 의미한다. 파티션 감내는 네트워크에 파티션이 생기더라도 시스템은 계속 동작하여야 한다는 것을 뜻한다.

즉, `CAP 정리`는 위의 그림처럼 어떤 두 가지를 충족하려면 나머지 하나는 반드시 희생되어야 한다는 것을 의미한다.

- `CP 시스템`: 일관성과 파티션 감내를 지원하고, 가용성을 희생한다.
- `AP 시스템`: 가용성과 파티션 감내를 지원하고, 데이터 일관성을 희생한다.
- `CA 시스템`: 일관성과 가용성을 지원하고, 파티션 감내는 지원하지 않는다. (그러나 통상 네트워크 장애는 피할 수 없는 일로 여겨지므로, 분산 시스템에서 파티션 문제를 감내할 수 있도록 설계되어야 한다.)

<br>

### `이상적 상태`

이상적 환경이라면 네트워크가 파티션되는 상황은 절대 일어나지 않을 것이다. 데이터 일관성과 가용성도 만족된다.