## `Cassandra Transaction 알아보자`

Cassandra는 RDBMS ACID 트랜잭션을 롤백 or 잠금(Lock) 메커니즘과 함께 사용하지 않습니다. 

비관계형 데이터베이스로서, Cassandra는 조인이나 외래 키를 지원하지 않으며, 결과적으로 ACID 의미에서 일관성을 제공하지 않습니다. 

<br>

### `Atomicity`

Cassandra에서 쓰기 작업은 파티션 수준에서 원자적이며, 이는 동일한 파티션에 있는 두 개 이상의 쓰기 작업이나 업데이트가 발생하면 하나의 쓰기 작업으로 처리된다는 것을 의미합니다. 삭제 작업도 파티션 수준에서 원자적입니다.

예를 들어, 복제 계수가 3인 쿼럼의 쓰기 일관성 수준을 사용하면 카산드라는 클러스터의 모든 노드에 쓰기를 복제하고 두 노드에서 확인 응답을 기다립니다. 

만약에 노드 중 하나에서 쓰기가 실패하고 다른 노드에서 성공하면 카산드라는 해당 노드에서 쓰기를 복제하지 못한다면, 복제를 위해 다른 노드에 성공한 쓰기 작업은 자동으로 롤백되지 않습니다.

카산드라는 여러 타임스탬프가 존재하여도 타임스탬프를 사용하여 가장 최근에 쓰여진 것을 사용하기 때문에, 동시에 쓰기 작업이 진행되어도 가장 최근의 업데이트가 발생한 것을 사용하게 됩니다.

<br>

### `Isolation`

Cassandra 쓰기 및 삭제 작업은 `full row-level` 격리 상태에서 수행됩니다.

즉, 단일 노드의 단일 파티션 내 행에 대한 쓰기 작업은 작업을 수행하는 클라이언트에게 표시됩니다.

<br>

### `Durability`

카산드라의 쓰기는 내구성이 좋습니다. 복제 노드에 대한 모든 쓰기 작업을 성공으로 응답 받기 전에 메모리와 디스크의 커밋 로그에 모두 기록됩니다. `memtables`이 디스크에 플러시되기 전에 충돌이나 서버 장애가 발생하면 커밋 로그는 서버가 다시 시작할 때 손실된 쓰기를 복구할 수 있습니다.